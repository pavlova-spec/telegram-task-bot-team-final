
from datetime import datetime
import random
from aiogram.types import ReplyKeyboardMarkup, KeyboardButton

def parse_time_hhmm(text:str):
    text = text.strip().replace(' ', '')
    for sep in [':', '.', '-']:
        if sep in text:
            h, m = text.split(sep, 1)
            break
    else:
        if len(text) in (3,4):
            h = text[:-2]
            m = text[-2:]
        else:
            return None
    try:
        h = int(h); m = int(m)
        if 0 <= h <= 23 and 0 <= m <= 59:
            return h, m
    except:
        return None
    return h, m

PRAISES_TEAM = [
    "âœ… ÐšÐ¾Ð¼Ð°Ð½Ð´Ð°, ÐºÑ€Ð°ÑÐ¸Ð²Ð¾ ÑÑ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð¾. Ð—Ð°Ð´Ð°Ñ‡Ð° Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð° â€” KPI Ð´Ñ‹ÑˆÐ°Ñ‚ ÑÐ²Ð¾Ð±Ð¾Ð´Ð½ÐµÐµ.",
    "ðŸ˜Ž Ð’Ð¾Ñ‚ ÑÑ‚Ð¾ Ñ‚ÐµÐ¼Ð¿! Ð•ÑÐ»Ð¸ Ð±Ñ‹ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ð»Ð°Ñ‚Ð¸Ð»Ð¸ Ð¼Ð¸Ð»ÐºÐ°Ð¼Ð¸ â€” Ð¼Ñ‹ Ð±Ñ‹ Ð¶Ð¸Ð»Ð¸ Ð² ÑˆÐ¾ÐºÐ¾Ð»Ð°Ð´Ðµ.",
    "ðŸ“ˆ ÐŸÐ»ÑŽÑ Ð¾Ð´Ð½Ð° Ð³Ð°Ð»Ð¾Ñ‡ÐºÐ° Ð² Ð¾Ð±Ñ‰Ð¸Ð¹ Ð·Ð°Ñ‡Ñ‘Ñ‚. ÐœÐµÐ½ÐµÐ´Ð¶ÐµÑ€Ñ‹ ÑƒÐ¶Ðµ ÑˆÐµÐ¿Ñ‡ÑƒÑ‚ÑÑ, Ñ‡Ñ‚Ð¾ Ð¼Ñ‹ Ñ€Ð¾Ð±Ð¾Ñ‚Ñ‹.",
    "â˜• ÐŸÐµÑ€ÐµÑ€Ñ‹Ð² Ð·Ð°ÑÐ»ÑƒÐ¶ÐµÐ½. ÐŸÑ€Ð¾Ð´ÑƒÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð½Ð° ÑƒÑ€Ð¾Ð²Ð½Ðµ, ÐºÐ¾Ñ„Ðµ â€” Ð² ÑÐµÑ€Ð´Ñ†Ðµ.",
    "ðŸ”¥ Ð—Ð°Ð´Ð°Ñ‡Ð° ÑƒÑˆÐ»Ð° Ð² Ð°Ñ€Ñ…Ð¸Ð². Ð ÐµÐ¿ÑƒÑ‚Ð°Ñ†Ð¸Ñ â€” Ð² Ð°Ð¿.",
    "ðŸ’¼ ÐŸÐ¾ Ð¾Ñ„Ð¸ÑÐ½Ð¾Ð¹ ÑˆÐºÐ°Ð»Ðµ ÐºÑ€ÑƒÑ‚Ð¾ÑÑ‚Ð¸ â€” Ñƒ Ð½Ð°Ñ ÑÐ½Ð¾Ð²Ð° Ð¼Ð°ÐºÑÐ¸Ð¼ÑƒÐ¼.",
    "ðŸ§  ÐšÐ¾Ð¼Ð°Ð½Ð´Ð½Ñ‹Ð¹ Ð¼Ð¾Ð·Ð³ â€” ÐºÐ°Ðº SSD: Ð±Ñ‹ÑÑ‚Ñ€Ð¾, Ñ‚Ð¸Ñ…Ð¾, ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾.",
    "ðŸ•¶ï¸ Ð¡Ð´ÐµÐ»Ð°Ð½Ð¾ Ñ‡Ñ‘Ñ‚ÐºÐ¾, Ð±ÐµÐ· Ð»Ð¸ÑˆÐ½Ð¸Ñ… ÑÐ»Ð¾Ð². Ð›ÑŽÐ±Ð»ÑŽ Ñ‚Ð°ÐºÐ¾Ð¹ Ð²Ð°Ð¹Ð±.",
    "ðŸª„ ÐšÐ°Ðº Ð²ÑÐµÐ³Ð´Ð°: Ñ‡ÑƒÑ‚ÑŒ Ð¼Ð°Ð³Ð¸Ð¸, Ñ‡ÑƒÑ‚ÑŒ Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹ â€” Ð¸ Ð³Ð¾Ñ‚Ð¾Ð²Ð¾.",
    "ðŸŽ¯ Ð’ Ñ†ÐµÐ»ÑŒ. Ð‘ÐµÐ· Ñ€Ð¸ÐºÐ¾ÑˆÐµÑ‚Ð¾Ð² Ð¸ ÑÐ»Ñ‘Ð· Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ¸.",
    "ðŸ’¬ ÐžÑ‚Ð´ÐµÐ» ÑˆÐµÐ¿Ñ‡ÐµÑ‚: Â«ÐšÑ‚Ð¾ Ñ‚Ð°Ðº ÑƒÐ¼ÐµÐµÑ‚?Â» â€” ÐœÑ‹ Ñ‚Ð°Ðº ÑƒÐ¼ÐµÐµÐ¼.",
    "ðŸš€ Ð¦ÐµÐ»ÑŒ Ð´Ð¾ÑÑ‚Ð¸Ð³Ð½ÑƒÑ‚Ð°. Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð°Ñ â€” Ð½Ð° Ð¿Ð¾Ð´Ð»Ñ‘Ñ‚Ðµ.",
    "ðŸ“Š ÐžÑ‚Ñ‡Ñ‘Ñ‚ Ð¿Ð¾Ñ‚Ð¾Ð¼. Ð¡ÐµÐ¹Ñ‡Ð°Ñ â€” Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð½Ð°ÑÐ»Ð°Ð¶Ð´Ð°ÐµÐ¼ÑÑ Ð³Ð°Ð»Ð¾Ñ‡ÐºÐ¾Ð¹.",
    "ðŸ§ƒ Ð’Ð¸Ñ‚Ð°Ð¼Ð¸Ð½ D(one) Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½. Ð˜Ð´Ñ‘Ð¼ Ð´Ð°Ð»ÑŒÑˆÐµ.",
    "ðŸ§© ÐŸÐ°Ð·Ð» ÑÐ»Ð¾Ð¶Ð¸Ð»ÑÑ. ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° â€” Ñ‚Ð¾Ð¿."
]

def random_praise():
    return random.choice(PRAISES_TEAM)

def main_menu():
    kb = ReplyKeyboardMarkup(resize_keyboard=True)
    kb.row(KeyboardButton("ðŸ†• ÐÐ¾Ð²Ð°Ñ Ð·Ð°Ð´Ð°Ñ‡Ð°"), KeyboardButton("ðŸ“‹ Ð’ÑÐµ Ð·Ð°Ð´Ð°Ñ‡Ð¸"))
    kb.row(KeyboardButton("âœ… Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ"), KeyboardButton("ðŸ Ð—Ð°Ð²ÐµÑ€ÑˆÑ‘Ð½Ð½Ñ‹Ðµ"))
    return kb
